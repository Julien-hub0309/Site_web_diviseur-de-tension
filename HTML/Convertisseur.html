<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Convertisseur - Pont Diviseur de Tension</title>
    <link rel="stylesheet" href="../Module/styles.css">
</head>
<body>
<header class="main-header">
    <div class="header-content">
        <h1>Simulateur pont diviseur de tension</h1>
    </div>
</header>

<main class="main-content">
    <section class="intro-section">
        <h1 class="page-title">Terminal de Simulation Électrique</h1>
        <p>Entrez les valeurs connues, laissez vide celle à calculer.</p>

        <div class="converter-box card">
            <h3>Calculateur de Pont Diviseur</h3>

            <div class="input-group">
                <label for="vin">Tension d'Entrée (Vin en Volts) :</label>
                <input type="number" id="vin" placeholder="Ex: 12" class="data-input">
            </div>

            <div class="input-group">
                <label for="vout">Tension de Sortie (Vout en Volts) :</label>
                <input type="number" id="vout" placeholder="Ex: 5" class="data-input">
            </div>

            <div class="input-group">
                <label for="r1">Résistance R1 (Ohms) :</label>
                <input type="number" id="r1" placeholder="Ex: 1000" class="data-input">
            </div>

            <div class="input-group">
                <label for="r2">Résistance R2 (Ohms) :</label>
                <input type="number" id="r2" placeholder="Ex: 500" class="data-input">
            </div>

            <button id="calculate-btn" class="button primary-button">Calculer</button>
            <div class="result-display data-good">
                Résultat: <span id="result"></span>
            </div>
        </div>
    </section>
</main>

<script>
document.getElementById("calculate-btn").addEventListener("click", function() {
    let Vin = parseFloat(document.getElementById("vin").value);
    let Vout = parseFloat(document.getElementById("vout").value);
    let R1 = parseFloat(document.getElementById("r1").value);
    let R2 = parseFloat(document.getElementById("r2").value);
    let result = "";

    if (isNaN(Vout) && !isNaN(Vin) && !isNaN(R1) && !isNaN(R2)) {
        Vout = Vin * (R2 / (R1 + R2));
        result = "Vout = " + Vout.toFixed(2) + " V";
    } else if (isNaN(R1) && !isNaN(Vin) && !isNaN(Vout) && !isNaN(R2)) {
        R1 = R2 * ((Vin / Vout) - 1);
        result = "R1 = " + R1.toFixed(2) + " Ω";
    } else if (isNaN(R2) && !isNaN(Vin) && !isNaN(Vout) && !isNaN(R1)) {
        R2 = R1 * (Vout / (Vin - Vout));
        result = "R2 = " + R2.toFixed(2) + " Ω";
    } else if (isNaN(Vin) && !isNaN(Vout) && !isNaN(R1) && !isNaN(R2)) {
        Vin = Vout * ((R1 + R2) / R2);
        result = "Vin = " + Vin.toFixed(2) + " V";
    } else {
        result = "⚠️ Remplissez 3 valeurs et laissez 1 vide.";
    }

    document.getElementById("result").textContent = result;
});
</script>
</body>
</html>
